@echo off
REM Script Batch para executar AutoGeneratorDDD no Windows
REM Uso: double-click neste arquivo ou execute no cmd

echo ðŸŽ¯ Executando AutoGeneratorDDD via Batch Script
echo ==================================================
echo.

echo ðŸ“‹ ConfiguraÃ§Ãµes:
echo   â€¢ Modules Path: examples
echo   â€¢ Domain Path: src/domain
echo   â€¢ Bounded Context: user-example
echo   â€¢ Verbose: true
echo   â€¢ Force: true
echo   â€¢ Dry Run: true (mude para false para gerar arquivos reais)
echo.

echo ðŸš€ Iniciando geraÃ§Ã£o DDD...
echo.

REM Criar arquivo temporÃ¡rio com o script
echo import { autoGenerateDDDFromZodSchemas } from './src/auto-generator-ddd.js'; > temp_generator.mjs
echo. >> temp_generator.mjs
echo console.log('ðŸŽ¯ AutoGeneratorDDD iniciado via Batch...'); >> temp_generator.mjs
echo. >> temp_generator.mjs
echo await autoGenerateDDDFromZodSchemas({ >> temp_generator.mjs
echo   modulesPath: 'examples', >> temp_generator.mjs
echo   domainPath: 'src/domain', >> temp_generator.mjs
echo   boundedContext: 'user-example', >> temp_generator.mjs
echo   verbose: true, >> temp_generator.mjs
echo   force: true, >> temp_generator.mjs
echo   dryRun: true >> temp_generator.mjs
echo }); >> temp_generator.mjs
echo. >> temp_generator.mjs
echo console.log('âœ… GeraÃ§Ã£o concluÃ­da!'); >> temp_generator.mjs

REM Executar com Node.js
node temp_generator.mjs

REM Verificar se executou com sucesso
if %errorlevel% equ 0 (
    echo.
    echo âœ… Script executado com sucesso!
    echo.
    echo ðŸ“ Verifique os arquivos gerados em:
    echo   â€¢ examples\user-example\
    echo   â€¢ src\domain\user-example\
    echo.
    echo ðŸ’¡ Para gerar arquivos reais, edite dryRun: false neste arquivo
) else (
    echo.
    echo âŒ Erro na execuÃ§Ã£o do script!
    echo.
    echo ðŸ”§ PossÃ­veis soluÃ§Ãµes:
    echo   1. Verifique se Node.js estÃ¡ instalado
    echo   2. Execute como Administrador
    echo   3. Verifique se examples\user.schema.ts existe
    echo   4. Execute: npx tsc --noEmit src\auto-generator-ddd.ts
)

REM Limpar arquivo temporÃ¡rio
del temp_generator.mjs

echo.
echo ðŸ Script concluÃ­do. Pressione qualquer tecla para fechar...
pause > nul
